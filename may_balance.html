<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>May Balance Admin - Polish Bid 2026-2027</title>
    <link rel="stylesheet" href="bidding.css">
    <style>
        .balance-container {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 15px;
            padding: 15px;
            height: calc(100vh - 120px);
        }
        .lines-list-panel {
            background: #16213e;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .lines-list-content {
            overflow-y: auto;
            padding: 8px;
            flex: 1;
        }
        .line-row {
            display: grid;
            grid-template-columns: 45px 60px 80px 1fr;
            gap: 8px;
            align-items: center;
            padding: 8px 10px;
            border-radius: 5px;
            margin-bottom: 4px;
            background: #1a1a2e;
            cursor: pointer;
            transition: all 0.2s;
        }
        .line-row:hover { background: #0f3460; }
        .line-row.selected { background: #0f3460; border: 2px solid #4ecca3; }
        .line-row.over { background: rgba(233, 69, 96, 0.2); }
        .line-row.under { background: rgba(78, 204, 163, 0.2); }
        .line-nbr { color: #4ecca3; font-weight: bold; }
        .line-desc { color: #888; font-size: 11px; }
        .work-days { font-weight: bold; font-size: 14px; }
        .work-days.target { color: #4ecca3; }
        .work-days.over { color: #e94560; }
        .work-days.under { color: #f0a500; }
        .override-indicator { 
            font-size: 10px; 
            color: #9b59b6;
            text-align: right;
        }
        
        .may-editor-panel {
            background: #16213e;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .may-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            padding: 15px;
        }
        .day-header {
            text-align: center;
            color: #4ecca3;
            font-weight: bold;
            font-size: 12px;
            padding: 5px;
        }
        .day-cell {
            aspect-ratio: 1;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            min-height: 60px;
        }
        .day-cell:hover { transform: scale(1.05); }
        .day-cell.empty { background: transparent; cursor: default; }
        .day-cell.empty:hover { transform: none; }
        .day-cell.work-day { background: #FFC000; color: #000; }
        .day-cell.off-day { background: #00FF00; color: #000; }
        .day-cell.override { border: 3px solid #9b59b6; box-shadow: 0 0 10px rgba(155, 89, 182, 0.5); }
        .day-cell.holiday { border: 3px solid #e94560; }
        .day-num { font-size: 14px; font-weight: bold; }
        .day-shift { font-size: 10px; margin-top: 2px; }
        .day-dow { font-size: 9px; color: rgba(0,0,0,0.5); }
        .holiday-tag { 
            font-size: 8px; 
            background: #e94560; 
            color: white; 
            padding: 1px 4px; 
            border-radius: 3px;
            margin-top: 2px;
        }
        
        .editor-header {
            padding: 15px;
            background: #0f3460;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .editor-title { color: #e94560; font-weight: bold; font-size: 16px; }
        .editor-stats { display: flex; gap: 20px; }
        .stat-box {
            background: #1a1a2e;
            padding: 8px 15px;
            border-radius: 5px;
            text-align: center;
        }
        .stat-label { color: #888; font-size: 10px; }
        .stat-value { color: #4ecca3; font-weight: bold; font-size: 18px; }
        .stat-value.over { color: #e94560; }
        .stat-value.under { color: #f0a500; }
        
        .shift-picker {
            display: none;
            position: fixed;
            background: #16213e;
            border: 2px solid #4ecca3;
            border-radius: 8px;
            padding: 10px;
            z-index: 1000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        .shift-picker.show { display: block; }
        .shift-option {
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 4px;
            margin: 2px 0;
            font-size: 12px;
        }
        .shift-option:hover { background: #0f3460; }
        .shift-option.off { background: #00FF00; color: #000; }
        .shift-option.work { background: #FFC000; color: #000; }
        
        .export-panel {
            background: #0f3460;
            padding: 15px;
            border-radius: 0 0 10px 10px;
        }
        .export-code {
            background: #1a1a2e;
            color: #4ecca3;
            font-family: monospace;
            font-size: 11px;
            padding: 10px;
            border-radius: 5px;
            max-height: 150px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }
        
        .summary-bar {
            background: #0f3460;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .summary-stats { display: flex; gap: 20px; font-size: 12px; }
        .summary-stat { display: flex; align-items: center; gap: 5px; }
        .summary-label { color: #888; }
        .summary-value { font-weight: bold; }
        .summary-value.good { color: #4ecca3; }
        .summary-value.bad { color: #e94560; }
        
        .no-selection {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #888;
            font-size: 14px;
        }
        
        .pattern-info {
            background: #1a1a2e;
            padding: 10px 15px;
            margin: 0 15px 15px 15px;
            border-radius: 5px;
            font-size: 11px;
        }
        .pattern-label { color: #888; }
        .pattern-value { color: #4ecca3; font-family: monospace; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>‚öñÔ∏è May Balance Admin</h1>
            <p>Adjust May 2026 shifts to balance all lines to 152 work days</p>
            <a href="index.html" style="display:inline-block; margin-top:12px; padding:10px 20px; background:#4ecca3; color:#1a1a2e; font-size:14px; font-weight:bold; text-decoration:none; border-radius:6px;">‚Üê Back to Main Bid</a>
        </div>
    </div>
    
    <div class="summary-bar">
        <div class="summary-stats">
            <div class="summary-stat">
                <span class="summary-label">At 152:</span>
                <span class="summary-value good" id="countAt152">0</span>
            </div>
            <div class="summary-stat">
                <span class="summary-label">Over (153+):</span>
                <span class="summary-value bad" id="countOver">0</span>
            </div>
            <div class="summary-stat">
                <span class="summary-label">Under (151-):</span>
                <span class="summary-value bad" id="countUnder">0</span>
            </div>
            <div class="summary-stat">
                <span class="summary-label">Total Overrides:</span>
                <span class="summary-value" id="totalOverrides" style="color:#9b59b6;">0</span>
            </div>
        </div>
        <div>
            <button class="btn" onclick="copyExportCode()" style="background:#9b59b6; color:white;">üìã Copy may_overrides.js</button>
            <button class="btn" onclick="downloadExportCode()" style="background:#4ecca3; color:#1a1a2e; margin-left:10px;">‚¨áÔ∏è Download File</button>
            <button class="btn" onclick="resetAllOverrides()" style="background:#e94560; color:white; margin-left:10px;">üîÑ Reset All</button>
        </div>
    </div>
    
    <div class="balance-container">
        <div class="lines-list-panel">
            <div class="panel-header">All Lines (95)</div>
            <div style="padding:8px; background:#0f3460;">
                <input type="text" id="lineSearch" placeholder="Search lines..." 
                    style="width:100%; padding:8px; border-radius:5px; background:#1a1a2e; color:#eee; border:1px solid #4ecca3; font-size:12px;"
                    oninput="filterLines()">
            </div>
            <div class="lines-list-content" id="linesList"></div>
        </div>
        
        <div class="may-editor-panel">
            <div class="editor-header">
                <div class="editor-title" id="editorTitle">Select a Line</div>
                <div class="editor-stats" id="editorStats" style="display:none;">
                    <div class="stat-box">
                        <div class="stat-label">Pattern Days</div>
                        <div class="stat-value" id="patternDays">--</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">With Overrides</div>
                        <div class="stat-value" id="actualDays">--</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">May Work Days</div>
                        <div class="stat-value" id="mayWorkDays">--</div>
                    </div>
                </div>
            </div>
            
            <div id="patternInfo" class="pattern-info" style="display:none;">
                <span class="pattern-label">12-Day Pattern: </span>
                <span class="pattern-value" id="patternDisplay"></span>
            </div>
            
            <div id="mayEditorContent" style="flex:1; overflow-y:auto;">
                <div class="no-selection">
                    üëà Select a line from the list to edit its May schedule
                </div>
            </div>
            
            <div class="export-panel">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                    <span style="color:#4ecca3; font-weight:bold; font-size:12px;">Generated may_overrides.js Code:</span>
                </div>
                <div class="export-code" id="exportCode">// No overrides yet</div>
            </div>
        </div>
    </div>
    
    <!-- Download Confirmation Modal -->
    <div class="modal-overlay" id="downloadConfirmModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.8); z-index:2000; align-items:center; justify-content:center;">
        <div style="background:#16213e; padding:25px; border-radius:10px; max-width:400px; text-align:center; border:2px solid #e94560;">
            <h3 style="color:#e94560; margin-bottom:15px;">‚ö†Ô∏è Confirm Download</h3>
            <p style="color:#ccc; font-size:13px; margin-bottom:15px;">
                This will download a new <strong>may_overrides.js</strong> file.<br><br>
                If you replace your existing file, your current overrides will be lost unless you've backed them up.
            </p>
            <p style="color:#4ecca3; font-size:12px; margin-bottom:10px;">Type <strong>YES</strong> to confirm:</p>
            <input type="text" id="downloadConfirmInput" placeholder="Type YES" 
                style="width:100%; padding:10px; border-radius:5px; background:#1a1a2e; color:#fff; border:2px solid #4ecca3; font-size:16px; text-align:center; text-transform:uppercase;"
                onkeydown="if(event.key==='Enter')confirmDownload()">
            <div style="margin-top:15px; display:flex; gap:10px;">
                <button class="btn" onclick="confirmDownload()" style="flex:1; background:#4ecca3; color:#1a1a2e; padding:10px;">Download</button>
                <button class="btn" onclick="hideDownloadConfirm()" style="flex:1; background:#888; color:white; padding:10px;">Cancel</button>
            </div>
        </div>
    </div>

    <div class="shift-picker" id="shiftPicker">
        <div class="shift-option off" onclick="setDayShift('--')">-- (Day Off)</div>
        <div id="shiftOptions"></div>
        <div class="shift-option" style="background:#888; color:white; margin-top:5px;" onclick="hideShiftPicker()">Cancel</div>
    </div>

<!-- Load data files -->
<script src="may_overrides.js"></script>
<script src="annual_bid_data.js"></script>

<script>
    // Working copy of overrides that we'll edit
    let workingOverrides = JSON.parse(JSON.stringify(MAY_OVERRIDES));
    let selectedLine = null;
    let editingDay = null;
    
    const HOLIDAYS = {
        '2026-5-10': 'MOM',
        '2026-5-25': 'MEMOR'
    };
    
    // Get pattern shift for a specific date
    function getPatternShift(lineNbr, dateStr) {
        const line = ANNUAL_BID.find(l => l.lineNbr === String(lineNbr));
        if (!line) return '--';
        
        const startDate = new Date(2026, 3, 1); // April 1, 2026
        const parts = dateStr.split('-');
        const targetDate = new Date(parseInt(parts[0]), parseInt(parts[1])-1, parseInt(parts[2]));
        const daysDiff = Math.floor((targetDate - startDate) / (1000*60*60*24));
        const patternIndex = daysDiff % 12;
        
        return line.days[patternIndex];
    }
    
    // Get actual shift (with override if exists)
    function getActualShift(lineNbr, dateStr) {
        if (workingOverrides[lineNbr] && workingOverrides[lineNbr][dateStr] !== undefined) {
            return workingOverrides[lineNbr][dateStr];
        }
        return getPatternShift(lineNbr, dateStr);
    }
    
    // Count work days for entire year
    function countYearWorkDays(lineNbr) {
        let count = 0;
        const startDate = new Date(2026, 3, 1);
        const endDate = new Date(2027, 2, 31);
        
        let currentDate = new Date(startDate);
        while (currentDate <= endDate) {
            const dateStr = `${currentDate.getFullYear()}-${currentDate.getMonth()+1}-${currentDate.getDate()}`;
            const shift = getActualShift(lineNbr, dateStr);
            if (shift !== '--' && shift !== '-') count++;
            currentDate.setDate(currentDate.getDate() + 1);
        }
        return count;
    }
    
    // Count work days from pattern only (no overrides)
    function countPatternWorkDays(lineNbr) {
        let count = 0;
        const startDate = new Date(2026, 3, 1);
        const endDate = new Date(2027, 2, 31);
        
        let currentDate = new Date(startDate);
        while (currentDate <= endDate) {
            const dateStr = `${currentDate.getFullYear()}-${currentDate.getMonth()+1}-${currentDate.getDate()}`;
            const shift = getPatternShift(lineNbr, dateStr);
            if (shift !== '--' && shift !== '-') count++;
            currentDate.setDate(currentDate.getDate() + 1);
        }
        return count;
    }
    
    // Count May work days
    function countMayWorkDays(lineNbr) {
        let count = 0;
        for (let day = 1; day <= 31; day++) {
            const dateStr = `2026-5-${day}`;
            const shift = getActualShift(lineNbr, dateStr);
            if (shift !== '--' && shift !== '-') count++;
        }
        return count;
    }
    
    // Count overrides for a line
    function countLineOverrides(lineNbr) {
        return workingOverrides[lineNbr] ? Object.keys(workingOverrides[lineNbr]).length : 0;
    }
    
    // Render the lines list
    function renderLinesList() {
        const container = document.getElementById('linesList');
        const searchTerm = document.getElementById('lineSearch').value.toLowerCase();
        
        let at152 = 0, over = 0, under = 0, totalOverrides = 0;
        
        let html = '';
        ANNUAL_BID.forEach(line => {
            const lineNbr = line.lineNbr;
            const workDays = countYearWorkDays(lineNbr);
            const overrideCount = countLineOverrides(lineNbr);
            totalOverrides += overrideCount;
            
            // Filter
            if (searchTerm && !lineNbr.includes(searchTerm) && !line.lineDesc.toLowerCase().includes(searchTerm)) {
                return;
            }
            
            let statusClass = '';
            let daysClass = 'target';
            if (workDays > 152) {
                statusClass = 'over';
                daysClass = 'over';
                over++;
            } else if (workDays < 152) {
                statusClass = 'under';
                daysClass = 'under';
                under++;
            } else {
                at152++;
            }
            
            const selected = selectedLine === lineNbr ? 'selected' : '';
            
            html += `
                <div class="line-row ${statusClass} ${selected}" onclick="selectLine('${lineNbr}')">
                    <span class="line-nbr">${lineNbr}</span>
                    <span class="line-desc">${line.lineDesc}</span>
                    <span class="work-days ${daysClass}">${workDays} days</span>
                    <span class="override-indicator">${overrideCount > 0 ? `${overrideCount} override${overrideCount > 1 ? 's' : ''}` : ''}</span>
                </div>
            `;
        });
        
        container.innerHTML = html;
        
        // Update summary
        document.getElementById('countAt152').textContent = at152;
        document.getElementById('countOver').textContent = over;
        document.getElementById('countUnder').textContent = under;
        document.getElementById('totalOverrides').textContent = totalOverrides;
        
        updateExportCode();
    }
    
    function filterLines() {
        renderLinesList();
    }
    
    // Select a line to edit
    function selectLine(lineNbr) {
        selectedLine = lineNbr;
        renderLinesList();
        renderMayEditor();
    }
    
    // Render the May calendar editor
    function renderMayEditor() {
        if (!selectedLine) return;
        
        const line = ANNUAL_BID.find(l => l.lineNbr === selectedLine);
        document.getElementById('editorTitle').textContent = `Line ${selectedLine} - ${line.lineDesc}`;
        document.getElementById('editorStats').style.display = 'flex';
        document.getElementById('patternInfo').style.display = 'block';
        
        // Show pattern
        document.getElementById('patternDisplay').textContent = line.days.map(d => d === '--' ? 'OFF' : d).join(' ‚Üí ');
        
        // Update stats
        const patternDays = countPatternWorkDays(selectedLine);
        const actualDays = countYearWorkDays(selectedLine);
        const mayDays = countMayWorkDays(selectedLine);
        
        document.getElementById('patternDays').textContent = patternDays;
        document.getElementById('patternDays').className = 'stat-value' + (patternDays > 152 ? ' over' : patternDays < 152 ? ' under' : '');
        
        document.getElementById('actualDays').textContent = actualDays;
        document.getElementById('actualDays').className = 'stat-value' + (actualDays > 152 ? ' over' : actualDays < 152 ? ' under' : '');
        
        document.getElementById('mayWorkDays').textContent = mayDays;
        
        // Build May calendar
        const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        const firstDay = new Date(2026, 4, 1).getDay(); // May 2026 starts on Friday (5)
        
        let html = '<div class="may-calendar">';
        
        // Day headers
        dayNames.forEach(d => {
            html += `<div class="day-header">${d}</div>`;
        });
        
        // Empty cells before May 1
        for (let i = 0; i < firstDay; i++) {
            html += '<div class="day-cell empty"></div>';
        }
        
        // May days
        for (let day = 1; day <= 31; day++) {
            const dateStr = `2026-5-${day}`;
            const date = new Date(2026, 4, day);
            const dow = dayNames[date.getDay()];
            
            const patternShift = getPatternShift(selectedLine, dateStr);
            const actualShift = getActualShift(selectedLine, dateStr);
            const isOverride = workingOverrides[selectedLine] && workingOverrides[selectedLine][dateStr] !== undefined;
            const isOff = actualShift === '--' || actualShift === '-';
            const holiday = HOLIDAYS[dateStr];
            
            let classes = 'day-cell';
            classes += isOff ? ' off-day' : ' work-day';
            if (isOverride) classes += ' override';
            if (holiday) classes += ' holiday';
            
            html += `
                <div class="${classes}" onclick="showShiftPicker(event, '${dateStr}', '${selectedLine}')">
                    <span class="day-num">${day}</span>
                    <span class="day-dow">${dow}</span>
                    <span class="day-shift">${actualShift}</span>
                    ${holiday ? `<span class="holiday-tag">${holiday}</span>` : ''}
                </div>
            `;
        }
        
        html += '</div>';
        
        // Legend
        html += `
            <div style="padding:15px; font-size:11px; color:#888;">
                <span style="display:inline-block; width:15px; height:15px; background:#FFC000; border-radius:3px; vertical-align:middle; margin-right:5px;"></span> Work Day
                <span style="display:inline-block; width:15px; height:15px; background:#00FF00; border-radius:3px; vertical-align:middle; margin-left:15px; margin-right:5px;"></span> Off Day
                <span style="display:inline-block; width:15px; height:15px; border:3px solid #9b59b6; border-radius:3px; vertical-align:middle; margin-left:15px; margin-right:5px;"></span> Override
                <span style="display:inline-block; width:15px; height:15px; border:3px solid #e94560; border-radius:3px; vertical-align:middle; margin-left:15px; margin-right:5px;"></span> Holiday
            </div>
        `;
        
        document.getElementById('mayEditorContent').innerHTML = html;
    }
    
    // Show shift picker
    function showShiftPicker(event, dateStr, lineNbr) {
        event.stopPropagation();
        editingDay = { dateStr, lineNbr };
        
        const line = ANNUAL_BID.find(l => l.lineNbr === lineNbr);
        const patternShift = getPatternShift(lineNbr, dateStr);
        
        // Get unique shifts from this line's pattern (excluding --)
        const shifts = [...new Set(line.days.filter(d => d !== '--' && d !== '-'))];
        
        let optionsHtml = '';
        shifts.forEach(shift => {
            optionsHtml += `<div class="shift-option work" onclick="setDayShift('${shift}')">${shift}</div>`;
        });
        
        // Add option to reset to pattern
        optionsHtml += `<div class="shift-option" style="background:#9b59b6; color:white; margin-top:5px;" onclick="resetToPattern()">‚Ü©Ô∏è Reset to Pattern (${patternShift})</div>`;
        
        document.getElementById('shiftOptions').innerHTML = optionsHtml;
        
        const picker = document.getElementById('shiftPicker');
        picker.style.left = event.clientX + 'px';
        picker.style.top = event.clientY + 'px';
        picker.classList.add('show');
    }
    
    function hideShiftPicker() {
        document.getElementById('shiftPicker').classList.remove('show');
        editingDay = null;
    }
    
    function setDayShift(shift) {
        if (!editingDay) return;
        
        const { dateStr, lineNbr } = editingDay;
        const patternShift = getPatternShift(lineNbr, dateStr);
        
        if (shift === patternShift) {
            // Remove override if setting back to pattern
            if (workingOverrides[lineNbr]) {
                delete workingOverrides[lineNbr][dateStr];
                if (Object.keys(workingOverrides[lineNbr]).length === 0) {
                    delete workingOverrides[lineNbr];
                }
            }
        } else {
            // Add override
            if (!workingOverrides[lineNbr]) {
                workingOverrides[lineNbr] = {};
            }
            workingOverrides[lineNbr][dateStr] = shift;
        }
        
        hideShiftPicker();
        renderLinesList();
        renderMayEditor();
    }
    
    function resetToPattern() {
        if (!editingDay) return;
        
        const { dateStr, lineNbr } = editingDay;
        
        if (workingOverrides[lineNbr]) {
            delete workingOverrides[lineNbr][dateStr];
            if (Object.keys(workingOverrides[lineNbr]).length === 0) {
                delete workingOverrides[lineNbr];
            }
        }
        
        hideShiftPicker();
        renderLinesList();
        renderMayEditor();
    }
    
    // Generate export code
    function updateExportCode() {
        let code = '// May 2026 overrides - manual adjustments to balance 152 work days per line\n';
        code += 'const MAY_OVERRIDES = ';
        code += JSON.stringify(workingOverrides, null, 2);
        code += ';\n';
        
        document.getElementById('exportCode').textContent = code;
    }
    
    function copyExportCode() {
        const code = document.getElementById('exportCode').textContent;
        navigator.clipboard.writeText(code).then(() => {
            alert('Code copied to clipboard! Paste it into may_overrides.js');
        });
    }
    
    function downloadExportCode() {
        document.getElementById('downloadConfirmModal').style.display = 'flex';
        document.getElementById('downloadConfirmInput').value = '';
        document.getElementById('downloadConfirmInput').focus();
    }
    
    function hideDownloadConfirm() {
        document.getElementById('downloadConfirmModal').style.display = 'none';
    }
    
    function confirmDownload() {
        const input = document.getElementById('downloadConfirmInput').value.trim().toUpperCase();
        if (input !== 'YES') {
            document.getElementById('downloadConfirmInput').style.borderColor = '#e94560';
            document.getElementById('downloadConfirmInput').value = '';
            document.getElementById('downloadConfirmInput').placeholder = 'Type YES to confirm';
            return;
        }
        
        hideDownloadConfirm();
        
        const code = document.getElementById('exportCode').textContent;
        const blob = new Blob([code], { type: 'text/javascript' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'may_overrides.js';
        a.click();
        URL.revokeObjectURL(url);
    }
    
    function resetAllOverrides() {
        const confirmation = prompt('This will reset ALL overrides in memory.\n\nType "RESET" to confirm:');
        if (confirmation && confirmation.trim().toUpperCase() === 'RESET') {
            workingOverrides = {};
            renderLinesList();
            if (selectedLine) renderMayEditor();
            alert('All overrides cleared. Refresh the page to restore from file.');
        }
    }
    
    // Close picker when clicking outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.shift-picker') && !e.target.closest('.day-cell')) {
            hideShiftPicker();
        }
    });
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
        renderLinesList();
    });
</script>
</body>
</html>
